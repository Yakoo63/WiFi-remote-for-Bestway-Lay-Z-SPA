<!DOCTYPE html>
<html lang="en">
<head>
    <title data-i18n="titre_hwtest">Lay-Z-Spa Module | Hardware test</title>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" sizes="180x180" href="favicon.png">
    <meta name="theme-color" content="#0f4677">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1">
    <!-- <script src="function.js" type="text/javascript"></script> -->
</head>

<body>
    <div id="site">
        <header>
            <form id="darkModeForm">
                <label class="switch">
                    <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
                    <span class="slider round"></span>
                </label>
            </form>
            <a href="./">
                <div id="header">
                    <span data-i18n="titre_hwtest_header">Hardware test</span>
                    <span data-i18n="header_module">Lay-Z-Spa Module</span>
                </div>
            </a>
            <a href="javascript:void(0);" class="topnavicon" onclick="topNav()"></a>
        </header>

        <div class="topnav" id="topnav">
            <a href="./" data-i18n="menu_home">Home</a>
            <a href="hwconfig.html" data-i18n="menu_hwconfig">Hardware Config</a>
            <a href="config.html" data-i18n="menu_spaconfig">SPA Config</a>
            <a href="webconfig.html" data-i18n="menu_webconfig">Web Config</a>
            <a href="wifi.html" data-i18n="menu_networkconfig">Network Config</a>
            <a href="mqtt.html" data-i18n="menu_mqttconfig">MQTT Config</a>
            <a href="/dir/" data-i18n="menu_directory">Directory</a>
            <a href="upload.html" data-i18n="menu_upload">File Uploader</a>
            <a href="remove.html" data-i18n="menu_remove">File Remover</a>
            <a href="hwtestinfo.html" class="active" data-i18n="menu_hwtest">Hardware test</a>
            <!--<a href="/restart/" class="bgred">Restart ESP</a>
            <a href="javascript:void(0);" class="bgred" onclick="reboot()">Restart ESP</a>-->
        </div>

        <section>
            <p data-i18n="hwtest_instr1">
                Prepare to connect the cables to together, but don't do it yet.
            </p>
            <img src="hwtest2.jpg" width="300">
            <br>
            <p data-i18n="hwtest_instr2">
                Feed +5V and GND to the PCB (red and black wires in the picture). If your board bypasses the 5V from USB to Vin pin you can use USB instead. Don't use both methods!
            </p>
            <img src="hwtest1.jpg" width="300">
            <br><br>
            <a href="./hwtest/" data-i18n="link_hwtest">Make the test</a>
        </section>
    </div>

    <script>
        function topNav() {
            var x = document.getElementById("topnav");
            if (x.className === "topnav") {
                x.className += " responsive";
            } else {
                x.className = "topnav";
            }
        }

        function togglePlainText(id) {
            var x = document.getElementById(id);
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }

        function validatePassword(id) {
            var x = document.getElementById(id);
            if (x.value == "<enter password>") {
                alert("Please enter a password to continue.");
                return false;
            }
            return true;
        }

        // Function to update the displayed number
        function updateNumber(opt, parent) {
            var parentElement = parent.parentElement;
            var numDisplay = parentElement.querySelector(".numDisplay");
            var number = parseInt(numDisplay.textContent);
            if (opt == "up") number += 1;
            if (opt == "dn") number -= 1;
            numDisplay.textContent = number;
        }

        function increaseNumber(id) {
            var x = document.getElementById(id);
            var val = Number(x.value);
            var max = x.max;
            if (max > val) {
                val += 1;
                x.value = val;
            }
            var opt = "up";
            updateNumber(opt, x);
        }

        function decreaseNumber(id) {
            var x = document.getElementById(id);
            var val = Number(x.value);
            var min = x.min;
            if (min < val) {
                val -= 1;
                x.value = val;
            }
            var opt = "dn";
            updateNumber(opt, x);
        }

        function buttonConfirm(elem, text = "", timeout = 3, reset = true) {
            var originalText = elem.innerHTML;

            elem.innerHTML = text == "" ? "&check;" : text;
            elem.disabled = true;

            if (reset) {
                setTimeout(function () {
                    elem.innerHTML = originalText;
                    elem.disabled = false;
                }, timeout * 1000);
            }
        }
    </script>

    <script src="i18n.js"></script>
    <script src="darkmode.js" type="text/javascript"></script>
</body>
</html>
